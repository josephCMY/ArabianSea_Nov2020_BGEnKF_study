# Instructions on compiling the CRTM (release 2.3.0) with PSU ADAPT Microwave-related Coefficients

## About
MW coefficients generated by Scott Sieron and Yinghui Lu.

CRTM code is currently managed by Yunji Zhang.



# Compilation instructions

1) Enter the CRTM directory 
```
cd PSU-EnKF_w_satellites/fortran_src/crtm_v2.3.0/
```

2) Download coefficients tarball file for CRTM using provided bash script.
```
./download_coefficients.sh
```

3) Untar the coefficients tarball file.
```
tar -xvf coefficients.*.tar
```

4) For ifort compiler users, setup relevant environment via 
```
. config-setup/ifort.setup
```
Change `ifort.setup` to other configuration files in `config-setup` accordingly for other shells and compilers.


5) To set up the compilation configuration, evoke 
```
./configure --disable-big-endian --prefix=`pwd`
```

6) To install, run 
```
make; make install
```

7) Check if file `crtm_v2.3.0/lib/libcrtm.a` exists. If this file exists, compilation is successful.

8) Generate symbolic links needed for `EnSRF` to call CRTM by running
```
ln -s crtm_v2.3.0/* .
```
